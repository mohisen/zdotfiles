كيف تستخدم MLterm

MLTERM

يعدّ MLTERM Multi Lingual TERMinal أو الطرفية متعدّدة اللغات أحد محاكيات الطرفية الرائعة في إكس، وكما يبدو من اسمه فقد صمم mlterm ليدعم العديد من اللغات العالمية مثل العربية و الهندية والكورية وغيرها.

أكثر ما يعنينا في mlterm هو دعمه الرائع للّغة العربية، ففي اعتقادي الشخصي لا يوجد محاكي طرفية (أو حتى طرفية حقيقية) آخر يوفر دعم للعربية كالذي يوفّره mlterm.

مميزاته:

دعم ثنائية الاتجاه بالنسبة للعربية والعبرية.
دعم اتصال الحروف العربية.
دعم خطوط TrueType.
دعم تشغيل أكثر من جلسة في نفس النافذة (شيء شبيه بالألسنة المتعددة).
نمط الخادم(daemon).
اختيار تلقائي للترميز حسب إعدادات اللغة.
دعم خطوط true type.
العديد من المميزات الأخرى، انظر man mlterm لمزيد من التفاصيل.
تثبيته:

الحصول عليه:

يمكن الحصول على آخر إصدارة من هنا.

الحزم الجاهزة:

يمكنك استخدام إدارة الحزم في نظامك لتثبيت mlterm ملحوظة:بعض التوزيعات (بالتحديد ماندريك) توفر حزم mlterm بدون دعم اللغة العربية، في هذه الحالة إما أن تقوم ببناء mlterm من المصدر أو راسل المسئول عن هذا و اطلب إضافة الدعم المطلوب.

البناء من المصدر:

كالعادة


$ tar xvfz mlterm-2.9.2.tar.gz 
$ cd mlterm-2.9.2
$ ./configure --enable-fribidi
$ make
# make install
للحصول على دعم خطوط TrueType مرر هذا الخيار إلى ./configure:


--enable-anti-alias
استخدامه:

لتشغيل mlterm، تأكد من أن معامل البيئة LC_ALL مضبوط على اليونيكود (UTF-8) (بدون هذا قد تواجه مشاكل مع اللغة العربية)، ثم شغل mlterm:


$ mkdir -p ~/.mlterm
$ echo 'ENCODING = UTF-8' >> ~/.mlterm/main
$ export LC_ALL='ar_EG.UTF-8'
$ mlterm
و الآن جرب فتح ملف يحتوي على نص عربي:


$ cat foo.txt
ملحوظة: إذا واجهتك مشكلة في عرض النصوص العربية، جرب عرض الملف باستخدام cat أولا لتتأكّد من أن المشكلة ليست في البرنامج الذي تستعرض الملف فيه (less مثلاً).

الخطوط:

هل ظهر بدلا من النص العربي مستطيلات فارغة أو لا شيء على الإطلاق؟ حسنا هذه مشكلة في الخط إذاً.

استخدام خطوط تروتيب:

يفترض أن يعمل هذا مع أي توزيعة حديثة

قم بتحميل الخط الثابت من صفحة الخطوط في ويكي عربآيز أو من هنا

وبعد فك الضغط انسخ ملفات .ttf إلى الدليل ~/.fonts مثال:


$ cp ~/Thabit-0.02/*.ttf ~/.fonts
حيث ~/Thabit-0.02/ موقع الخطوط بعد فك ضغطها في مثالنا هذا.

الآن كيفية إخبار mlterm باستخدامه:


$ echo 'ISO10646_UCS2_1 = Thabit-iso10646-1;' >> ~/.mlterm/aafont
بالنسبة للنسخة 3.0 استخدم:


$ echo 'ISO10646_UCS4_1 = Thabit-iso10646-1;' >> ~/.mlterm/aafont
ثم


$ echo 'use_anti_alias = true' >> ~/.mlterm/main
جرّب الآن عرض نص عربي في هذه الطرفية أو كتابة نص

إن لم تعمل هذه الطريقة يمكنك تجربة الطريقة الثانية.

الخطوط النقطية:

هذه الطريقة للتوزيعات القديمة، أو إذا كنت لا تريد خطوط تروتيب

ستحتاج لخط من نوع mono يدعم اللغة العربية، يمكنك الحصول عليه من هنا، ثم انسخ ملف الخط (بعد فك ضغطه) إلى مكان في مسار خطوط X، مثلا:


$ cp ae_fonts_mono/10x21.pcf /usr/locale/share/fonts/mono
$ cd /usr/locale/share/fonts/mono
# mkfontdir
ملحوظة: تأكد من أن المسار /usr/locale/share/fonts/mono موجود في مسار الخطوط في ملف إعداد X :


/etc/X11/xorg.conf

.....
Section "Files"
        FontPath        "/usr/share/fonts/mono"
.....
EndSection

.....
ثم قم بإعادة تشغيل X، ثم :


$ echo 'ISO10646_UCS2_1 = -arabeyes-fixed-medium-r-normal--20-200-75-75-c-100-iso10646-1;' >> ~/.mlterm/font
لاحظ أن الجزء الثاني من هذا السطر (بعد علامة "=") يعتمد على الخط الذي تستخدمه، لذا إذا استخدمت خطاً آخر غير الموجود هنا فلا تنسى تعديل القيمة لتناسب الخط الذي تستخدمه.

إذا كنت قد أضفت دعم خطوط TrueType فيمكنك استخدام خطوط من هذا النوع، نفذ التالي (انظر الخيارات بأسفل):


$ echo 'use_anti_alias = true' >> ~/.mlterm/main
ثم :


$ echo 'ISO10646_UCS2_1=Courier New-iso10646-1;' >> ~/.mlterm/aafont
لاحظ هذا سيستخدم الخط Courier New، عدل هذا ليناسب احتياجك.

خيارات سطر الأوامر:

هذا ملخص ببعض الخيارات المفيدة (اقرأ دليل mlterm لتحصل على قائمة كاملة).

لاحظ أن bool تستبدل بـ true أو false.

-A, --aa=bool
استخدام خطوط ناعمة الحواف (خطوط من نوع true type).
-D, --bi=bool
تفعيل ثنائية الاتجاه للغة العربية والعبرية (يتم تفعيله تلقائيا عند استخدام ترميز utf-8).
-E, --km=encoding
تحديد نوع الترميز المستخدم (إذا كان AUTO فسيحدده mlterm على حسب معاملات البيئة.
-P, --ptys=value
يحدد عدد الجلسات التي سيتم فتحها عند بدأ التشغيل (في نافذة واحدة).
-b, --bg=color
تحديد لون الخلفية.
-j, --daemon=value
بدأ التشغيل في نمط الخادم (أو العفريت :) )، قيمة value قد تكون "blend" أو "genuine".
-p, --pic=path
تحديد المسار لصورة الخلفية (إذا منت ترغب في استخدام خلفية) لن يعمل مع الخلفية الشفافة.
-s, --sb=bool
استخدام أو عدم استخدام شريط التمرير.
-t, --transbg=bool
تفعيل أو عدم تفعيل استخدام خلفية شفافة .
-w, --fontsize=value
يحدد حجم الخط بالبكسل.
نمط الخادم:

يوفر mlterm خاصية فريدة من نوعها بالنسبة لمحاكي طرفية، وهي خاصية العمل كخادم في الخلفية أو daemon، حسنا السؤال هو ما فائدة هذا النمط؟ ببساطة تخيل أنك تشغيل mlterm في نمط الخادم هذا ثم تشغل أحد البرامج ولنقل wget أو تقوم بعمل compile لبرنامج ما ثم تريد أغلقت النافذة بطريق الخطأ لا مشكلة يمكنك استعادة الجلسة دون انقطاع، أو حتى يمكنك إعادة تشغيل X دون أن تفقد ما كنت تقوم به

لتشغيل mlterm في نمط الخادم:


mlterm -j genuine
ويمكنك استخدام mlcient للاتصال بالخادم

لعرض الجلسات الموجودة:


$ mlclient -P
/dev/pts/4(whose title is khaled@penguin:~) is sleeping.zZ
/dev/pts/5(whose title is khaled@penguin:~) is sleeping.zZ
/dev/pts/6(whose title is khaled@penguin:~) is sleeping.zZ
لتشغيل جلسة جديدة:


$ mlclient
للاتصال بجلسة سابقة حيث N هو رقم الجلسة:


$ mlclient /dev/pts/N
تشغيل أكثر من جلسة في نفس النافذة:

هل ينتهي بك الأمر وقد ملأت سطح مكتبك بعشرات نوافذ سطر الأوامر المفتوحة لتقوم بعمل العديد من الأشياء في نفس الوقت؟، هل تفتقد الألسنة المتعددة في konsole أو gnome-terminal؟

حسنا إليك المفاجئة: يمكنك تشغيل أكثر من جلسة في نافذة mlterm فقط اضغط ctrl+f2 لبدأ جلسة جديدة، و ctrl+f3 و ctrl+f4 للتنقل بين الجلسات

ويمكنك تحديد عدد الجلسات التي سيبدأ بها mlterm باستخدام الخيار التالي حيث N هو عدد الجلسات:


$ mlterm -P N
إعداده:

يمكنك إعداد mlterm باستخدام واجهة الإعداد الرسومية، اضغط زر Cntrl ثم انقر بزر الفأرة الأيمن مع استمرار الضغط وستظهر لك نافذة الإعداد.

تنقسم نافذة الإعداد إلى جزأين: العلوي يحتوي على عدة ألسنة، هي:

Encoding
يمكنك منه تحديد الترميز، و دعم ثنائية الاتجاه، و أشياء أخرى.
Font
يمكنك تحديد الإعدادات المتعلقة بالخط.
Background
الإعدادات المتعلقة بالخلفية.
Scroolbar
الإعدادات المتعلقة بشريط التمرير.
Others
إعدادات أخرى :)
أما السفلى فيحتوي أزرار حفظ الإعدادات، و أزرار لتكبير و تصغير حجم الخط، و الجزء الأسفل لفتح جلسة جديدة أو الاتصال بإحدى الجلسات الموجودة مسبقاً.

mlterm_config

ويمكنك تحرير ملفات الإعداد يدوياً:

ملفات الإعداد:

/etc/mlterm/*
ملفات الإعداد العامة
~/.mlterm/*
ملفات الإعدادات الخاصة بكل مستخدم
بعض اللقطات:

W3M يعرض صفحة وب عربية في mlterm mlterm

تحرير نص عربي باستخدام VIM في mlterm mlterm_vim

